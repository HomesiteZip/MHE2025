<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>MAYBE HAPPY ENDING</title>
<link href="https://cdn.jsdelivr.net/gh/sunn-us/SUIT/fonts/static/woff2/SUIT.css" rel="stylesheet">
<style>
  body, html {
    margin: 0; padding: 0; height: 100%;
    background-color: #fadbdf;
    font-family: 'SUIT', -apple-system, BlinkMacSystemFont, sans-serif; 
    overflow: hidden;
  }
  #app {
    max-width: 360px;
    margin: 0 auto;
    height: 100vh;
    display: flex;
    flex-direction: column;
    border-left: 2px solid #2D3887;
    border-right: 2px solid #2D3887;
    box-sizing: border-box;
    position: relative;
  }
  header {
    text-align: center;
    font-weight: bold;
    font-size: 1.25rem;
    color: #2D3887;
    padding: 12px 0;
    border-bottom: 2px solid #2D3887;
    background-color: #fadbdf;
    flex-shrink: 0;
    position: fixed;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 360px;
    z-index: 10;
  }
  main {
    flex-grow: 1;
    overflow-y: auto;
    background-color: #fadbdf;
    padding: 0;
    margin-top: 48px;
    margin-bottom: 56px;
  }
  nav {
    display: flex;
    border-top: 2px solid #2D3887;
    background-color: #fadbdf;
    flex-shrink: 0;
    position: fixed;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 360px;
    height: 60px;
    z-index: 10;
  }
  nav button {
    flex: 1;
    padding: 0;
    border: none;
    cursor: pointer;
    background-color: #fadbdf;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 100%;
    box-sizing: border-box;
    font-size: 1.25rem;
    color: #2D3887;
    transition: background-color 0.3s, color 0.3s;
  }
  nav button.active {
    background-color: #2D3887;
    color: #FFF2DA;
  }
  nav button:not(:last-child)::after {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    right: 0;
    width: 2px;
    background-color: #2D3887;
  }
  #tab-home-btn::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    width: 2px;
    background-color: #2D3887;
  }
  #tab-info-btn::after {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    right: 0;
    width: 2px;
    background-color: #2D3887;
  }
  .tab-home {
    height: 100%;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    overflow-y: auto;
  }
  .home-square-img {
    width: 100%;
    max-width: 400px;
    aspect-ratio: 1 / 1;
    object-fit: cover;
    border-radius: 10px;
    margin: 0 auto;
  }
  .home-rect-img {
    width: 100%;
    max-width: 400px;
    aspect-ratio: 16 / 9;
    object-fit: contain;
    border-radius: 10px;
    margin: 0 auto;
    height: 70px;
  }
  .home-text {
    color: #2D3887;
    font-size: 0.95rem;
    font-weight: 300;
    line-height: 1.5;
    text-align: center;
    padding: 0 0 80px;
    margin-bottom: 60px;
  }
  .person {
    max-width: 100%;
    padding: 0 12px;
    box-sizing: border-box;
  }
  .person.oliver {
    margin-top: 50px;
  }
  .person-header {
    display: flex;
    align-items: center;
    font-weight: bold;
    font-size: 1.25rem;
    color: #2D3887;
    margin-bottom: 8px;
    gap: 6px;
    justify-content: center;
  }
  .emoji { font-size: 2rem; }
  .buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    justify-content: center;
  }
  button.photo-btn {
    min-width: 70px;
    background-color: #2D3887;
    color: white;
    border: none;
    border-radius: 25px;
    padding: 6px 12px;
    font-weight: 500;
    font-size: 0.875rem;
    cursor: pointer;
    transition: transform 0.2s ease;
  }
  button.photo-btn:hover {
    transform: scale(1.05);
  }
  .group-divider {
    height: 2px;
    background-color: #2D3887;
    margin: 40px 20px 40px 20px;
  }
  #gallery-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.9);
    justify-content: center;
    align-items: center;
    z-index: 1000;
  }
  #gallery-content {
    position: relative;
    max-width: 90%;
    max-height: 80%;
  }
  #gallery-content img {
    width: 100%;
    max-height: 80vh;
    border-radius: 10px;
    user-select: none;
  }
  #gallery-close,
  #gallery-prev,
  #gallery-next {
    position: fixed;
    background: none;
    border: none;
    color: white;
    font-size: 3rem;
    cursor: pointer;
    user-select: none;
  }
  #gallery-close {
    top: 20px;
    right: 20px;
    z-index: 1010;
  }
  #gallery-prev {
    top: 50%;
    left: 20px;
    transform: translateY(-50%);
    z-index: 1010;
  }
  #gallery-next {
    top: 50%;
    right: 20px;
    transform: translateY(-50%);
    z-index: 1010;
  }
  #gallery-counter {
    text-align: center;
    color: #FFF2DA;
    margin-top: 8px;
    font-size: 1rem;
  }
</style>
</head>
<body>
<div id="app">
  <header>MAYBE HAPPY ENDING</header>
  <main id="main-content"></main>
  <nav>
    <button id="tab-home-btn" class="active" aria-label="Ìôà">
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
    </button>
    <button id="tab-photos-btn" aria-label="ÏÇ¨ÏßÑ">
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M21 19V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2zM7 9l2.5 3.01L12.5 9l4.5 6H5l2-3z"/></svg>
    </button>
    <button id="tab-music-btn" aria-label="ÏùåÏïÖ">
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 3v10.55A4 4 0 1 0 14 17V7h4V3h-6z"/></svg>
    </button>
    <button id="tab-sheet-btn" aria-label="ÏïÖÎ≥¥">
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zM7 17l5-5-5-5v10z"/></svg>
    </button>
    <button id="tab-info-btn" aria-label="Ï†ïÎ≥¥">
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm1 15h-2v-6h2zm0-8h-2V7h2z"/></svg>
    </button>
  </nav>
</div>

<div id="gallery-overlay">
  <button id="gallery-close" title="Îã´Í∏∞">√ó</button>
  <button id="gallery-prev" title="Ïù¥Ï†Ñ">‚Äπ</button>
  <div id="gallery-content">
    <img id="gallery-img" src="" alt="Gallery Image" draggable="false" />
    <div id="gallery-counter"></div>
  </div>
  <button id="gallery-next" title="Îã§Ïùå">‚Ä∫</button>
</div>

<script>
const mainContent = document.getElementById('main-content');
const galleryOverlay = document.getElementById('gallery-overlay');
const galleryImg = document.getElementById('gallery-img');
const galleryCounter = document.getElementById('gallery-counter');
const tabButtons = {
  home: document.getElementById('tab-home-btn'),
  photos: document.getElementById('tab-photos-btn'),
  music: document.getElementById('tab-music-btn'),
  sheet: document.getElementById('tab-sheet-btn'),
  info: document.getElementById('tab-info-btn'),
};
const galleryCloseBtn = document.getElementById('gallery-close');
const galleryPrevBtn = document.getElementById('gallery-prev');
const galleryNextBtn = document.getElementById('gallery-next');

const photoData = [
  { 
    name: 'Oliver',
    emoji: 'üòä',
    buttons: ['ÍπÄÏû¨Î≤î', 'Ïã†ÏÑ±ÎØº', 'Ï†ÑÏÑ±Ïö∞', 'Ï†ïÌúò'],
    buttonsPhotos: [
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%9E%AC%EB%B2%94_%EC%98%AC%EB%A6%AC%EB%B2%841.webp',
        'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%9E%AC%EB%B2%94_%EC%98%AC%EB%A6%AC%EB%B2%842.webp',
        'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%9E%AC%EB%B2%94_%EC%98%AC%EB%A6%AC%EB%B2%843.webp'],
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%84%B1%EB%AF%BC_%EC%98%AC%EB%A6%AC%EB%B2%841.webp',
        'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%84%B1%EB%AF%BC_%EC%98%AC%EB%A6%AC%EB%B2%842.webp',
        'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%84%B1%EB%AF%BC_%EC%98%AC%EB%A6%AC%EB%B2%843.webp'],
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%84%B1%EC%9A%B0_%EC%98%AC%EB%A6%AC%EB%B2%841.webp',
        'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%84%B1%EC%9A%B0_%EC%98%AC%EB%A6%AC%EB%B2%842.webp',
        'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%84%B1%EC%9A%B0_%EC%98%AC%EB%A6%AC%EB%B2%843.webp'],
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%A0%95%ED%9C%98_%EC%98%AC%EB%A6%AC%EB%B2%841.webp',
        'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%A0%95%ED%9C%98_%EC%98%AC%EB%A6%AC%EB%B2%842.webp',
        'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%A0%95%ED%9C%98_%EC%98%AC%EB%A6%AC%EB%B2%843.webp'],
    ],
  },
  {
    name: 'Claire',
    emoji: 'üòÑ',
    buttons: ['Ï†ÑÎØ∏ÎèÑ', 'ÏµúÏàòÏßÑ', 'Î∞ïÏßÄÏó∞', 'Î∞ïÏßÑÏ£º', 'Î∞©ÎØºÏïÑ'],
    buttonsPhotos: [
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EB%AF%B8%EB%8F%84_%ED%81%B4%EB%A0%88%EC%96%B41.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EB%AF%B8%EB%8F%84_%ED%81%B4%EB%A0%88%EC%96%B42.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EB%AF%B8%EB%8F%84_%ED%81%B4%EB%A0%88%EC%96%B43.webp'],
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%88%98%EC%A7%84_%ED%81%B4%EB%A0%88%EC%96%B41.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%88%98%EC%A7%84_%ED%81%B4%EB%A0%88%EC%96%B42.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%88%98%EC%A7%84_%ED%81%B4%EB%A0%88%EC%96%B43.webp'],
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%A7%80%EC%97%B0_%ED%81%B4%EB%A0%88%EC%96%B41.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%A7%80%EC%97%B0_%ED%81%B4%EB%A0%88%EC%96%B42.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%A7%80%EC%97%B0_%ED%81%B4%EB%A0%88%EC%96%B43.webp'],
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%A7%84%EC%A3%BC_%ED%81%B4%EB%A0%88%EC%96%B41.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%A7%84%EC%A3%BC_%ED%81%B4%EB%A0%88%EC%96%B42.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%A7%84%EC%A3%BC_%ED%81%B4%EB%A0%88%EC%96%B43.webp'],
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EB%AF%BC%EC%95%84_%ED%81%B4%EB%A0%88%EC%96%B41.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EB%AF%BC%EC%95%84_%ED%81%B4%EB%A0%88%EC%96%B42.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EB%AF%BC%EC%95%84_%ED%81%B4%EB%A0%88%EC%96%B43.webp'],
    ],
  },
  {
    name: 'James',
    emoji: 'üôÇ',
    buttons: ['Ïù¥ÏãúÏïà', 'Í≥†ÌõàÏ†ï', 'Î∞ïÏÑ∏Ìõà'],
    buttonsPhotos: [
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%8B%9C%EC%95%88_%EC%A0%9C%EC%9E%84%EC%8A%A41.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%8B%9C%EC%95%88_%EC%A0%9C%EC%9E%84%EC%8A%A42.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%8B%9C%EC%95%88_%EC%A0%9C%EC%9E%84%EC%8A%A43.webp'],
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%ED%9B%88%EC%A0%95_%EC%A0%9C%EC%9E%84%EC%8A%A41.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%ED%9B%88%EC%A0%95_%EC%A0%9C%EC%9E%84%EC%8A%A42.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%ED%9B%88%EC%A0%95_%EC%A0%9C%EC%9E%84%EC%8A%A43.webp'],
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%84%B8%ED%9B%88_%EC%A0%9C%EC%9E%84%EC%8A%A41.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%84%B8%ED%9B%88_%EC%A0%9C%EC%9E%84%EC%8A%A42.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%84%B8%ED%9B%88_%EC%A0%9C%EC%9E%84%EC%8A%A43.webp'],
    ],
  },
];

let activeTab = 'home';
let selectedPhotos = null;
let currentPhotoIndex = 0;
let clickDisabled = false;

function render() {
  Object.values(tabButtons).forEach(btn => btn.classList.remove('active'));
  tabButtons[activeTab].classList.add('active');

  mainContent.innerHTML = '';
  const fragment = document.createDocumentFragment();

  switch (activeTab) {
    case 'home':
      fragment.appendChild(renderHome());
      break;
    case 'photos':
      fragment.appendChild(renderPhotos());
      break;
    case 'music':
      fragment.appendChild(renderMusic());
      break;
    case 'sheet':
      fragment.appendChild(renderSheet());
      break;
    case 'info':
      fragment.appendChild(renderInfo());
      break;
  }
  mainContent.appendChild(fragment);
}

function renderHome() {
  const homeDiv = document.createElement('div');
  homeDiv.className = 'tab-home';

  const squareImg = document.createElement('img');
  squareImg.className = 'home-square-img';
  squareImg.src = 'https://raw.githubusercontent.com/HomesiteZip/MHE2025/f43f99319484470f31ff7a34762e3cdce018d0a5/main-Vinyl-LP.webp';
  squareImg.alt = 'Square Image';
  homeDiv.appendChild(squareImg);

  const rectImg = document.createElement('img');
  rectImg.className = 'home-rect-img';
  rectImg.src = 'https://raw.githubusercontent.com/HomesiteZip/MHE2025/f43f99319484470f31ff7a34762e3cdce018d0a5/main-logo.webp';
  rectImg.alt = 'Rectangle Image';
  homeDiv.appendChild(rectImg);

  const textDiv = document.createElement('div');
  textDiv.className = 'home-text';
  textDiv.innerHTML = 'ÎÆ§ÏßÄÏª¨ Ïñ¥Ï©åÎ©¥ Ìï¥ÌîºÏóîÎî© 10Ï£ºÎÖÑÏùÑ ÎßûÏïÑ,<br>Í¥ÄÍ∞ù Ïó¨Îü¨Î∂ÑÍ≥º ÌäπÎ≥ÑÌïú Í∏∞ÏñµÏùÑ ÎÇ®Í∏∞Í≥† Ïã∂ÏóàÏäµÎãàÎã§.<br><br>ÌïúÍµ≠ÏùÑ ÎÑòÏñ¥, ÏÑ∏Í≥ÑÍ∞Ä ÏÇ¨ÎûëÌïòÎäî<br>Ï∞ΩÏûë ÎÆ§ÏßÄÏª¨Î°ú ÏÑ±Ïû•ÌïòÍ∏∞ÍπåÏßÄ Ìï®ÍªòÌï¥Ï£ºÏã† Î™®Îì† Î∂ÑÎì§Ïùò<br>ÏÇ¨ÎûëÍ≥º ÏùëÏõêÏóê ÏßÑÏã¨ÏúºÎ°ú Í∞êÏÇ¨ÎìúÎ¶ΩÎãàÎã§.<br><br>Í∑∏ ÎßàÏùåÏùÑ Îã¥ÏïÑ, Í≥µÏó∞ÏùÑ Îñ†Ïò¨Î¶¥<br>ÏûëÏùÄ ÌùîÏ†ÅÏùÑ ÎÇ®ÍπÅÎãàÎã§.<br><br>‚ÄúÎ¨∏ÏùÑ ÎëêÎìúÎ†§ Ï§òÏÑú Í≥†ÎßàÏõ†Ïñ¥.‚Äù<br>‚ÄúÎ¨∏ÏùÑ Ïó¥Ïñ¥ Ï§òÏÑú Í≥†ÎßàÏõ†Ïñ¥.‚Äù<br>‚ÄúÏ≤úÎßåÏóê.‚Äù';
  homeDiv.appendChild(textDiv);

  return homeDiv;
}

function renderPerson(person, isLast) {
  const div = document.createElement('div');
  div.className = `person ${person.name.toLowerCase()}`;
  if (person.name === 'Oliver') div.style.marginTop = '50px';

  const header = document.createElement('div');
  header.className = 'person-header center';
  header.innerHTML = `<span class="emoji">${person.emoji}</span><span>${person.name}</span>`;
  div.appendChild(header);

  const buttonsDiv = document.createElement('div');
  buttonsDiv.className = 'buttons center';

  // ÌÅ¥Î†àÏñ¥Îßå 3/2Î∂ÑÌï† ÌëúÏãú, ÎÇòÎ®∏ÏßÑ Í∑∏ÎåÄÎ°ú
  if (person.name === 'Claire') {
    person.buttons.slice(0, 3).forEach((btnText, idx) => {
      buttonsDiv.appendChild(createPhotoButton(btnText, person.buttonsPhotos[idx]));
    });
    const brNode = document.createElement('div');
    brNode.style.flexBasis = '100%';
    buttonsDiv.appendChild(brNode);
    person.buttons.slice(3).forEach((btnText, idx) => {
      buttonsDiv.appendChild(createPhotoButton(btnText, person.buttonsPhotos[3 + idx]));
    });
  } else {
    person.buttons.forEach((btnText, idx) => {
      buttonsDiv.appendChild(createPhotoButton(btnText, person.buttonsPhotos[idx]));
    });
  }

  div.appendChild(buttonsDiv);

  if (!isLast) {
    const divider = document.createElement('div');
    divider.className = 'group-divider';
    div.appendChild(divider);
  }
  return div;
}

function renderPhotos() {
  const fragment = document.createDocumentFragment();
  photoData.forEach((person, idx) => {
    const isLast = idx === photoData.length - 1;
    fragment.appendChild(renderPerson(person, isLast));
  });
  return fragment;
}

function renderMusic() {
  const musicDiv = document.createElement('div');
  musicDiv.style.height = '100%';
  musicDiv.style.display = 'flex';
  musicDiv.style.alignItems = 'center';
  musicDiv.style.justifyContent = 'center';
  musicDiv.style.flexDirection = 'column';
  musicDiv.innerHTML = `<div style="font-size:64px; color:#ccc; margin-bottom:16px;">üéµ</div><p style="color:#888;">ÌîºÏïÑÎÖ∏ Ïó∞Ï£º</p>`;
  return musicDiv;
}

function renderSheet() {
  const sheetDiv = document.createElement('div');
  sheetDiv.style.height = '100%';
  sheetDiv.style.display = 'flex';
  sheetDiv.style.alignItems = 'center';
  sheetDiv.style.justifyContent = 'center';
  sheetDiv.style.flexDirection = 'column';
  sheetDiv.innerHTML = `<div style="font-size:64px; color:#ccc; margin-bottom:16px;">üìÑ</div><p style="color:#888;">Ïó∞ÏäµÏã§ Ìïú ÏÜåÏ†à</p>`;
  return sheetDiv;
}

function renderInfo() {
  const infoDiv = document.createElement('div');
  infoDiv.style.height = '100%';
  infoDiv.style.display = 'flex';
  infoDiv.style.alignItems = 'center';
  infoDiv.style.justifyContent = 'center';
  infoDiv.style.flexDirection = 'column';
  infoDiv.innerHTML = `<div style="font-size:64px; color:#ccc; margin-bottom:16px;">‚ÑπÔ∏è</div><p style="color:#888;">Í≥µÏó∞ Ï†ïÎ≥¥<br>Ï¢åÏÑùÏïàÎÇ¥, Ïò§ÏãúÎäîÍ∏∏ Îì±</p>`;
  return infoDiv;
}

function createPhotoButton(text, photos) {
  const btn = document.createElement('button');
  btn.className = 'photo-btn';
  btn.textContent = text;
  btn.addEventListener('click', () => openGallery(photos));
  return btn;
}

// Í∞§Îü¨Î¶¨ Í¥ÄÎ†®
function openGallery(photos) {
  selectedPhotos = photos;
  currentPhotoIndex = 0;
  updateGallery();
  galleryOverlay.style.display = 'flex';
}
function closeGallery() {
  selectedPhotos = null;
  currentPhotoIndex = 0;
  galleryOverlay.style.display = 'none';
}
function updateGallery() {
  if (!selectedPhotos) return;
  galleryImg.src = selectedPhotos[currentPhotoIndex];
  galleryCounter.textContent = `${currentPhotoIndex + 1} / ${selectedPhotos.length}`;
}
function nextPhoto() {
  if (clickDisabled || !selectedPhotos) return;
  clickDisabled = true;
  currentPhotoIndex = (currentPhotoIndex + 1) % selectedPhotos.length;
  updateGallery();
  setTimeout(() => { clickDisabled = false; }, 300);
}
function prevPhoto() {
  if (clickDisabled || !selectedPhotos) return;
  clickDisabled = true;
  currentPhotoIndex = (currentPhotoIndex - 1 + selectedPhotos.length) % selectedPhotos.length;
  updateGallery();
  setTimeout(() => { clickDisabled = false; }, 300);
}

Object.values(tabButtons).forEach(button => {
  button.addEventListener('click', () => {
    const key = Object.keys(tabButtons).find(k => tabButtons[k] === button);
    if (key) {
      activeTab = key;
      render();
    }
  });
});
galleryCloseBtn.addEventListener('click', closeGallery);
galleryPrevBtn.addEventListener('click', prevPhoto);
galleryNextBtn.addEventListener('click', nextPhoto);

render();
</script>
</body>
</html>
