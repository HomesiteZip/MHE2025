<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>MAYBE HAPPY ENDING</title>
<style>
  body, html {
    margin: 0; padding: 0; height: 100%;
    background-color: #fadbdf;
    font-family: Arial, sans-serif;
    overflow: hidden;
  }
  #app {
    max-width: 360px;
    margin: 0 auto;
    height: 100vh;
    display: flex;
    flex-direction: column;
    border-left: 2px solid #001FE9;
    border-right: 2px solid #001FE9;
    box-sizing: border-box;
    position: relative;
  }
  header {
    text-align: center;
    font-weight: bold;
    font-size: 1.25rem;
    color: #001FE9;
    padding: 12px 0;
    border-bottom: 2px solid #001FE9;
    background-color: #fadbdf;
    flex-shrink: 0;
    position: fixed;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 360px;
    z-index: 10;
  }
  main {
    flex-grow: 1;
    overflow-y: auto;
    background-color: #fadbdf;
    padding: 0;
    margin-top: 56px;
    margin-bottom: 56px;
  }
  nav {
    display: flex;
    border-top: 2px solid #001FE9;
    background-color: #fadbdf;
    flex-shrink: 0;
    position: fixed;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 360px;
    height: 60px;
    z-index: 10;
  }
  nav button {
    flex: 1;
    padding: 0;
    border: none;
    cursor: pointer;
    background-color: #fadbdf;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 100%;
    box-sizing: border-box;
    font-size: 1.25rem;
    color: #001FE9;
    transition: background-color 0.3s, color 0.3s;
  }
  nav button.active {
    background-color: #001FE9;
    color: #FFF2DA;
  }
  nav button:not(:last-child)::after {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    right: 0;
    width: 2px;
    background-color: #001FE9;
  }
  #tab-home-btn::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    width: 2px;
    background-color: #001FE9;
  }
  #tab-info-btn::after {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    right: 0;
    width: 2px;
    background-color: #001FE9;
  }
  .tab-home {
    width: 100%;
    height: 100%;
    background-image: url('https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=1200&q=80');
    background-size: cover;
    background-position: center;
    margin: 0;
    padding: 0;
  }
  .person {
    max-width: 100%;
    padding: 0 12px;
    box-sizing: border-box;
  }
  .person.oliver {
    margin-top: 50px;
    margin-bottom: 70px;
  }
  .person.claire {
    margin-bottom: 70px;
  }
  .person.james {
    margin-bottom: 0;
  }
  .person-header {
    display: flex;
    align-items: center;
    font-weight: bold;
    font-size: 1.25rem;
    color: #001FE9;
    margin-bottom: 8px;
    gap: 6px;
    justify-content: center;
  }
  .emoji { font-size: 2rem; }
  .buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    justify-content: center;
  }
  button.photo-btn {
    min-width: 70px;
    background-color: #001FE9;
    color: white;
    border: none;
    border-radius: 10px;
    padding: 6px 12px;
    font-weight: 500;
    font-size: 0.875rem;
    cursor: pointer;
    transition: transform 0.2s ease;
  }
  button.photo-btn:hover {
    transform: scale(1.05);
  }
  .group-divider {
    height: 2px;
    background-color: #001FE9;
    margin: 0 20px 40px 20px;
  }
  #gallery-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.9);
    justify-content: center;
    align-items: center;
    z-index: 1000;
  }
  #gallery-content {
    position: relative;
    max-width: 90%;
    max-height: 80%;
  }
  #gallery-content img {
    width: 100%;
    max-height: 80vh;
    border-radius: 10px;
    user-select: none;
  }
  #gallery-close,
  #gallery-prev,
  #gallery-next {
    position: fixed;
    background: none;
    border: none;
    color: white;
    font-size: 3rem;
    cursor: pointer;
    user-select: none;
  }
  #gallery-close {
    top: 20px;
    right: 20px;
    z-index: 1010;
  }
  #gallery-prev {
    top: 50%;
    left: 20px;
    transform: translateY(-50%);
    z-index: 1010;
  }
  #gallery-next {
    top: 50%;
    right: 20px;
    transform: translateY(-50%);
    z-index: 1010;
  }
  #gallery-counter {
    text-align: center;
    color: #FFF2DA;
    margin-top: 8px;
    font-size: 1rem;
  }
</style>
</head>
<body>
<div id="app">
  <header>MAYBE HAPPY ENDING</header>
  <main id="main-content"></main>
  <nav>
    <button id="tab-home-btn" class="active" aria-label="Ìôà">
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
    </button>
    <button id="tab-photos-btn" aria-label="ÏÇ¨ÏßÑ">
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M21 19V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2zM7 9l2.5 3.01L12.5 9l4.5 6H5l2-3z"/></svg>
    </button>
    <button id="tab-music-btn" aria-label="ÏùåÏïÖ">
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 3v10.55A4 4 0 1 0 14 17V7h4V3h-6z"/></svg>
    </button>
    <button id="tab-sheet-btn" aria-label="ÏïÖÎ≥¥">
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zM7 17l5-5-5-5v10z"/></svg>
    </button>
    <button id="tab-info-btn" aria-label="Ï†ïÎ≥¥">
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm1 15h-2v-6h2zm0-8h-2V7h2z"/></svg>
    </button>
  </nav>
</div>

<div id="gallery-overlay">
  <button id="gallery-close" title="Îã´Í∏∞">√ó</button>
  <button id="gallery-prev" title="Ïù¥Ï†Ñ">‚Äπ</button>
  <div id="gallery-content">
    <img id="gallery-img" src="" alt="Gallery Image" draggable="false" />
    <div id="gallery-counter"></div>
  </div>
  <button id="gallery-next" title="Îã§Ïùå">‚Ä∫</button>
</div>

<script>
  // Î≥ÄÏàò ÏÑ†Ïñ∏ Îî± 1Ìöå
  const mainContent = document.getElementById('main-content');
  const galleryOverlay = document.getElementById('gallery-overlay');
  const galleryImg = document.getElementById('gallery-img');
  const galleryCounter = document.getElementById('gallery-counter');
  const tabButtons = {
    home: document.getElementById('tab-home-btn'),
    photos: document.getElementById('tab-photos-btn'),
    music: document.getElementById('tab-music-btn'),
    sheet: document.getElementById('tab-sheet-btn'),
    info: document.getElementById('tab-info-btn'),
  };
  const galleryCloseBtn = document.getElementById('gallery-close');
  const galleryPrevBtn = document.getElementById('gallery-prev');
  const galleryNextBtn = document.getElementById('gallery-next');

  const photoData = [
    { 
      name: 'Oliver',
      emoji: 'üòä',
      type: 'text',
      buttons: ['ÍπÄÏû¨Î≤î', 'Ïã†ÏÑ±ÎØº', 'Ï†ÑÏÑ±Ïö∞', 'Ï†ïÌúò'],
      buttonsPhotos: [
        [
          'https://github.com/HomesiteZip/MHE2025/blob/main/%E1%84%89%E1%85%A6%E1%86%AF%E1%84%8F%E1%85%A1_%E1%84%80%E1%85%B5%E1%86%B7%E1%84%8C%E1%85%A2%E1%84%87%E1%85%A5%E1%86%B7_1.jpg?raw=true',
          'https://github.com/HomesiteZip/MHE2025/blob/main/%E1%84%89%E1%85%A6%E1%86%AF%E1%84%8F%E1%85%A1_%E1%84%80%E1%85%B5%E1%86%B7%E1%84%8C%E1%85%A2%E1%84%87%E1%85%A5%E1%86%B7_2.jpg?raw=true',
          'https://github.com/HomesiteZip/MHE2025/blob/main/%E1%84%89%E1%85%A6%E1%86%AF%E1%84%8F%E1%85%A1_%E1%84%80%E1%85%B5%E1%86%B7%E1%84%8C%E1%85%A2%E1%84%87%E1%85%A5%E1%86%B7_3.jpg?raw=true'
        ],
        [
          'https://github.com/HomesiteZip/MHE2025/blob/main/%E1%84%89%E1%85%A6%E1%86%AF%E1%84%8F%E1%85%A1_%E1%84%89%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A5%E1%86%BC%E1%84%86%E1%85%B5%E1%86%AB_1.jpg?raw=true',
          'https://github.com/HomesiteZip/MHE2025/blob/main/%E1%84%89%E1%85%A6%E1%86%AF%E1%84%8F%E1%85%A1_%E1%84%89%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A5%E1%86%BC%E1%84%86%E1%85%B5%E1%86%AB_2.jpg?raw=true',
          'https://github.com/HomesiteZip/MHE2025/blob/main/%E1%84%89%E1%85%A6%E1%86%AF%E1%84%8F%E1%85%A1_%E1%84%89%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A5%E1%86%BC%E1%84%86%E1%85%B5%E1%86%AB_3.jpg?raw=true'
        ],
        [
          'https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?w=800&q=80',
          'https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=800&q=80',
          'https://images.unsplash.com/photo-1511367461989-f85a21fda167?w=800&q=80'
        ],
        [
          'https://github.com/HomesiteZip/MHE2025/blob/main/800_%E1%84%89%E1%85%A6%E1%86%AF%E1%84%8F%E1%85%A1_%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%92%E1%85%B1_1.jpg?raw=true',
          'https://github.com/HomesiteZip/MHE2025/blob/main/800_%E1%84%89%E1%85%A6%E1%86%AF%E1%84%8F%E1%85%A1_%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%92%E1%85%B1_2.jpg?raw=true',
          'https://github.com/HomesiteZip/MHE2025/blob/main/800_%E1%84%89%E1%85%A6%E1%86%AF%E1%84%8F%E1%85%A1_%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%92%E1%85%B1_3.jpg?raw=true'
        ]
      ]
    },
    {
      name: 'Claire',
      emoji: 'üòÑ',
      type: 'text',
      buttons: ['Ï†ÑÎØ∏ÎèÑ', 'ÏµúÏàòÏßÑ', 'Î∞ïÏßÄÏó∞', 'Î∞ïÏßÑÏ£º', 'Î∞©ÎØºÏïÑ'],
      buttonsPhotos: [
        ['https://images.unsplash.com/photo-1464820453369-31d2c0b651af?w=800&q=80',
         'https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?w=800&q=80',
         'https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=800&q=80'],
        ['https://images.unsplash.com/photo-1475721027785-f74eccf877e2?w=800&q=80',
         'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=800&q=80',
         'https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=800&q=80'],
        ['https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?w=800&q=80',
         'https://images.unsplash.com/photo-1511367461989-f85a21fda167?w=800&q=80',
         'https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=800&q=80'],
        ['https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?w=800&q=80',
         'https://images.unsplash.com/photo-1511367461989-f85a21fda167?w=800&q=80',
         'https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=800&q=80'],
        ['https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?w=800&q=80',
         'https://images.unsplash.com/photo-1511367461989-f85a21fda167?w=800&q=80',
         'https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=800&q=80'],
      ],
    },
    {
      name: 'James',
      emoji: 'üôÇ',
      type: 'text',
      buttons: ['Ïù¥ÏãúÏïà', 'Í≥†ÌõàÏ†ï', 'Î∞ïÏÑ∏Ìõà'],
      buttonsPhotos: [
        ['https://images.unsplash.com/photo-1464820453369-31d2c0b651af?w=800&q=80',
         'https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?w=800&q=80',
         'https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=800&q=80'],
        ['https://images.unsplash.com/photo-1475721027785-f74eccf877e2?w=800&q=80',
         'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=800&q=80',
         'https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=800&q=80'],
        ['https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?w=800&q=80',
         'https://images.unsplash.com/photo-1511367461989-f85a21fda167?w=800&q=80',
         'https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=800&q=80'],
      ],
    },
  ];

let activeTab = 'home';
let selectedPhotos = null;
let currentPhotoIndex = 0;
let clickDisabled = false;

function render() {
  Object.values(tabButtons).forEach(button => button.classList.remove('active'));
  tabButtons[activeTab].classList.add('active');

  mainContent.innerHTML = '';

  if (activeTab === 'home') {
    const div = document.createElement('div');
    div.className = 'tab-home';
    mainContent.appendChild(div);
  } else if (activeTab === 'photos') {
    ['Oliver', 'Claire', 'James'].forEach((name, i, arr) => {
      const person = photoData.find(p => p.name === name);
      if (!person) return;

      const div = document.createElement('div');
      div.className = 'person ' + name.toLowerCase();

      if (name === 'Oliver') div.style.marginTop = '50px';

      const header = document.createElement('div');
      header.className = 'person-header center';
      header.innerHTML = `<span class="emoji">${person.emoji}</span><span>${person.name}</span>`;
      div.appendChild(header);

      const buttonsDiv = document.createElement('div');
      buttonsDiv.className = 'buttons center';

      if (name === 'Claire') {
        person.buttons.slice(0, 3).forEach((btnText, idx) => {
          const btn = createPhotoButton(btnText, person.buttonsPhotos[idx]);
          buttonsDiv.appendChild(btn);
        });
        const brNode = document.createElement('div');
        brNode.style.flexBasis = '100%';
        buttonsDiv.appendChild(brNode);
        person.buttons.slice(3).forEach((btnText, idx) => {
          const btn = createPhotoButton(btnText, person.buttonsPhotos[3 + idx]);
          buttonsDiv.appendChild(btn);
        });
      } else {
        person.buttons.forEach((btnText, idx) => {
          const btn = createPhotoButton(btnText, person.buttonsPhotos[idx]);
          buttonsDiv.appendChild(btn);
        });
      }

      div.appendChild(buttonsDiv);

      // group-dividerÎ•º buttons Îí§Ïóê Ï∂îÍ∞Ä, Îã® James(ÎßàÏßÄÎßâ Í∑∏Î£π) Ï†úÏô∏
      if (name !== arr[arr.length - 1]) {
        const divider = document.createElement('div');
        divider.className = 'group-divider';
        div.appendChild(divider);
      }

      mainContent.appendChild(div);
    });
        }

        div.appendChild(buttonsDiv);
        mainContent.appendChild(div);
      };
    } else if (activeTab === 'music') {
      const musicDiv = document.createElement('div');
      musicDiv.style.height = '100%';
      musicDiv.style.display = 'flex';
      musicDiv.style.alignItems = 'center';
      musicDiv.style.justifyContent = 'center';
      musicDiv.style.flexDirection = 'column';
      musicDiv.innerHTML = `<div style="font-size:64px; color:#ccc; margin-bottom:16px;">üéµ</div><p style="color:#888;">ÏùåÏïÖ ÎùºÏù¥Î∏åÎü¨Î¶¨</p>`;
      mainContent.appendChild(musicDiv);
    } else if (activeTab === 'sheet') {
      const sheetDiv = document.createElement('div');
      sheetDiv.style.height = '100%';
      sheetDiv.style.display = 'flex';
      sheetDiv.style.alignItems = 'center';
      sheetDiv.style.justifyContent = 'center';
      sheetDiv.style.flexDirection = 'column';
      sheetDiv.innerHTML = `<div style="font-size:64px; color:#ccc; margin-bottom:16px;">üìÑ</div><p style="color:#888;">ÏïÖÎ≥¥ Î≥¥Í¥ÄÌï®</p>`;
      mainContent.appendChild(sheetDiv);
    } else if (activeTab === 'info') {
      const infoDiv = document.createElement('div');
      infoDiv.style.height = '100%';
      infoDiv.style.display = 'flex';
      infoDiv.style.alignItems = 'center';
      infoDiv.style.justifyContent = 'center';
      infoDiv.style.flexDirection = 'column';
      infoDiv.innerHTML = `<div style="font-size:64px; color:#ccc; margin-bottom:16px;">‚ÑπÔ∏è</div><p style="color:#888;">Ï†ïÎ≥¥</p>`;
      mainContent.appendChild(infoDiv);
    }
  }

  function createPhotoButton(text, photos) {
    const btn = document.createElement('button');
    btn.className = 'photo-btn';
    btn.textContent = text;
    btn.addEventListener('click', () => openGallery(photos));
    return btn;
  }

  function openGallery(photos) {
    selectedPhotos = photos;
    currentPhotoIndex = 0;
    updateGallery();
    galleryOverlay.style.display = 'flex';
  }

  function closeGallery() {
    selectedPhotos = null;
    currentPhotoIndex = 0;
    galleryOverlay.style.display = 'none';
  }

  function updateGallery() {
    if (!selectedPhotos) return;
    galleryImg.src = selectedPhotos[currentPhotoIndex];
    galleryCounter.textContent = `${currentPhotoIndex + 1} / ${selectedPhotos.length}`;
  }

  function nextPhoto() {
    if (clickDisabled || !selectedPhotos) return;
    clickDisabled = true;
    currentPhotoIndex = (currentPhotoIndex + 1) % selectedPhotos.length;
    updateGallery();
    setTimeout(() => { clickDisabled = false; }, 300);
  }

  function prevPhoto() {
    if (clickDisabled || !selectedPhotos) return;
    clickDisabled = true;
    currentPhotoIndex = (currentPhotoIndex - 1 + selectedPhotos.length) % selectedPhotos.length;
    updateGallery();
    setTimeout(() => { clickDisabled = false; }, 300);
  }

  Object.values(tabButtons).forEach(button => {
    button.addEventListener('click', () => {
      const key = Object.keys(tabButtons).find(k => tabButtons[k] === button);
      if (key) {
        activeTab = key;
        render();
      }
    });
  });

  galleryCloseBtn.addEventListener('click', closeGallery);
  galleryPrevBtn.addEventListener('click', prevPhoto);
  galleryNextBtn.addEventListener('click', nextPhoto);

  render();
</script>
</body>
</html>
