<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>Mobile Event App</title>
<style>
  body, html {
    margin: 0; padding: 0; height: 100%;
    background-color: #fadbdf;
    font-family: Arial, sans-serif;
    overflow: hidden;
  }
  #app {
    max-width: 400px;
    margin: 0 auto;
    height: 100vh;
    display: flex;
    flex-direction: column;
    border: 2px solid #001FE9;
    border-top: none;
    box-sizing: border-box;
  }
  header {
    text-align: center;
    font-weight: bold;
    font-size: 1.25rem;
    color: #001FE9;
    padding: 12px 0;
    border-bottom: 2px solid #001FE9;
    background-color: #fadbdf;
    flex-shrink: 0;
  }
  main {
    flex-grow: 1;
    overflow: hidden;
    background-color: #fadbdf;
    position: relative;
    padding: 12px 12px 0 12px;
    box-sizing: border-box;
  }
  nav {
    display: flex;
    border-top: 2px solid #001FE9;
    background-color: #fadbdf;
    flex-shrink: 0;
  }
  nav button {
    flex: 1;
    padding: 10px 0; /* Í∏∞Ï°¥ 8pxÏóêÏÑú 20% Ï¶ùÍ∞Ä */
    border: none;
    cursor: pointer;
    font-size: 1.25rem; /* ÌÖçÏä§Ìä∏Í∞Ä ÏïÑÏù¥ÏΩòÏúºÎ°ú Î∞îÎÄåÎØÄÎ°ú ÏïΩÍ∞Ñ ÌÇ§ÏõÄ */
    background-color: #fadbdf;
    color: #001FE9;
    transition: background-color 0.3s, color 0.3s;
    /* Ï¢åÏö∞ ÌååÎûÄÏÑ† ÏÇ≠Ï†ú */
    border-right: none; 
    box-sizing: border-box;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  nav button.active {
    background-color: #001FE9;
    color: #FFF2DA;
  }
  .tab-home {
    height: 100%;
    background-image: url('https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=1200&q=80');
    background-size: cover;
    background-position: center;
  }
  .person {
    max-width: 100%;
  }
  .person.oliver {
    margin-top: 100px;
    margin-bottom: 70px;
  }
  .person.claire {
    margin-bottom: 70px;
  }
  .person.james {
    margin-bottom: 0;
  }
  .person-header {
    display: flex;
    align-items: center;
    font-weight: bold;
    font-size: 1.25rem;
    color: #001FE9;
    margin-bottom: 8px;
    gap: 6px;
    justify-content: center;
  }
  .emoji { font-size: 2rem; }
  .buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    justify-content: center;
  }
  button.photo-btn {
    min-width: 70px;
    background-color: #001FE9;
    color: white;
    border: none;
    border-radius: 10px;
    padding: 6px 12px;
    font-weight: 500;
    font-size: 0.875rem;
    cursor: pointer;
    transition: transform 0.2s ease;
  }
  button.photo-btn:hover {
    transform: scale(1.05);
  }
  .break-after {
    display: block;
    margin-right: 10px;
  }

  #gallery-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.9);
    justify-content: center;
    align-items: center;
    z-index: 1000;
  }
  #gallery-content {
    position: relative;
    max-width: 90%;
    max-height: 80%;
  }
  #gallery-content img {
    width: 100%;
    max-height: 80vh;
    border-radius: 10px;
    user-select: none;
  }
  #gallery-close,
  #gallery-prev,
  #gallery-next {
    position: fixed;
    background: none;
    border: none;
    color: white;
    font-size: 3rem;
    cursor: pointer;
    user-select: none;
  }
  #gallery-close {
    top: 20px;
    right: 20px;
    z-index: 1010;
  }
  #gallery-prev {
    top: 50%;
    left: 20px;
    transform: translateY(-50%);
    z-index: 1010;
  }
  #gallery-next {
    top: 50%;
    right: 20px;
    transform: translateY(-50%);
    z-index: 1010;
  }
  #gallery-counter {
    text-align: center;
    color: #FFF2DA;
    margin-top: 8px;
    font-size: 1rem;
  }
</style>
</head>
<body>
<div id="app">
  <header>MAYBE HAPPY ENDING</header>
  <main id="main-content"></main>
  <nav>
    <button id="tab-home-btn" class="active" aria-label="Ìôà">
      <!-- Ìôà ÏïÑÏù¥ÏΩò -->
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
    </button>
    <button id="tab-photos-btn" aria-label="ÏÇ¨ÏßÑ">
      <!-- ÏÇ¨ÏßÑ ÏïÑÏù¥ÏΩò -->
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M21 19V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2zM7 9l2.5 3.01L12.5 9l4.5 6H5l2-3z"/></svg>
    </button>
    <button id="tab-music-btn" aria-label="ÏùåÏïÖ">
      <!-- ÏùåÏïÖ ÏïÑÏù¥ÏΩò -->
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3v10.55A4 4 0 1 0 14 17V7h4V3h-6z"/></svg>
    </button>
    <button id="tab-sheet-btn" aria-label="ÏïÖÎ≥¥">
      <!-- ÏïÖÎ≥¥ ÏïÑÏù¥ÏΩò -->
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zM7 17l5-5-5-5v10z"/></svg>
    </button>
    <button id="tab-info-btn" aria-label="Ï†ïÎ≥¥">
      <!-- Ï†ïÎ≥¥ ÏïÑÏù¥ÏΩò -->
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm1 15h-2v-6h2zm0-8h-2V7h2z"/></svg>
    </button>
  </nav>
</div>

<div id="gallery-overlay">
  <button id="gallery-close" title="Îã´Í∏∞">√ó</button>
  <button id="gallery-prev" title="Ïù¥Ï†Ñ">‚Äπ</button>
  <div id="gallery-content">
    <img id="gallery-img" src="" alt="Gallery Image" draggable="false" />
    <div id="gallery-counter"></div>
  </div>
  <button id="gallery-next" title="Îã§Ïùå">‚Ä∫</button>
</div>

<script>
  const photoData = [
    { 
      name: 'Oliver',
      emoji: 'üòä',
      align: 'center',
      type: 'text',
      buttons: ['ÍπÄÏû¨Î≤î', 'Ïã†ÏÑ±ÎØº', 'Ï†ÑÏÑ±Ïö∞', 'Ï†ïÌúò'],
      buttonsPhotos: [
        ['https://images.unsplash.com/photo-1511367461989-f85a21fda167?w=800&q=80'],
        ['https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=800&q=80'],
        ['https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=800&q=80'],
        ['https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=800&q=80', 'https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=800&q=80']
      ]
    },
    { 
      name: 'Claire',
      emoji: 'üòÑ',
      align: 'center',
      type: 'text',
      buttons: ['Ï†ÑÎØ∏ÎèÑ', 'ÏµúÏàòÏßÑ', 'Î∞ïÏßÄÏó∞', 'Î∞ïÏßÑÏ£º', 'Î∞©ÎØºÏïÑ'],
      buttonsPhotos: [
        ['https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=800&q=80'],
        ['https://images.unsplash.com/photo-1518893063132-36e46dbe2428?w=800&q=80'],
        ['https://images.unsplash.com/photo-1501612780327-45045538702b?w=800&q=80'],
        ['https://images.unsplash.com/photo-1475721027785-f74eccf877e2?w=800&q=80'],
        ['https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?w=800&q=80']
      ]
    },
    { 
      name: 'James',
      emoji: 'üôÇ',
      align: 'center',
      type: 'text',
      buttons: ['Ïù¥ÏãúÏïà', 'Í≥†ÌõàÏ†ï', 'Î∞ïÏÑ∏Ìõà'],
      buttonsPhotos: [
        ['https://images.unsplash.com/photo-1464820453369-31d2c0b651af?w=800&q=80'],
        ['https://images.unsplash.com/photo-1475721027785-f74eccf877e2?w=800&q=80'],
        ['https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?w=800&q=80']
      ]
    }
  ];

  let activeTab = 'home';
  let selectedPhotos = null;
  let currentPhotoIndex = 0;

  const mainContent = document.getElementById('main-content');
  const tabButtons = {
    home: document.getElementById('tab-home-btn'),
    photos: document.getElementById('tab-photos-btn'),
    music: document.getElementById('tab-music-btn'),
    sheet: document.getElementById('tab-sheet-btn'),
    info: document.getElementById('tab-info-btn')
  };

  function render() {
    Object.keys(tabButtons).forEach(key => {
      tabButtons[key].classList.toggle('active', key === activeTab);
    });

    mainContent.innerHTML = '';

    if (activeTab === 'home') {
      const homeDiv = document.createElement('div');
      homeDiv.className = 'tab-home';
      mainContent.appendChild(homeDiv);
    }
    else if (activeTab === 'photos') {
      ['Oliver', 'Claire', 'James'].forEach(name => {
        const person = photoData.find(p => p.name === name);
        if (!person) return; 

        const personDiv = document.createElement('div');
        personDiv.className = 'person';
        if (name === 'Oliver') personDiv.classList.add('oliver');
        else if (name === 'Claire') personDiv.classList.add('claire');
        else if (name === 'James') personDiv.classList.add('james');

        const header = document.createElement('div');
        header.className = 'person-header center';
        header.innerHTML = `<span class="emoji">${person.emoji}</span><span>${person.name}</span>`;
        personDiv.appendChild(header);

        if (name === 'Oliver' || name === 'Claire') {
          const divider = document.createElement('div');
          divider.className = 'divider';
          personDiv.appendChild(divider);
        }

        const buttonsDiv = document.createElement('div');
        buttonsDiv.className = 'buttons center';

        if (name === 'Claire') {
          person.buttons.slice(0,3).forEach((btnText, idx) => {
            const btn = document.createElement('button');
            btn.className = 'photo-btn';
            btn.textContent = btnText;
            btn.addEventListener('click', () => openGallery(person.buttonsPhotos[idx]));
            buttonsDiv.appendChild(btn);
          });
          const brNode = document.createElement('div');
          brNode.style.flexBasis = '100%';
          buttonsDiv.appendChild(brNode);
          person.buttons.slice(3).forEach((btnText, idx) => {
            const actualIdx = idx + 3;
            const btn = document.createElement('button');
            btn.className = 'photo-btn';
            btn.textContent = btnText;
            btn.addEventListener('click', () => openGallery(person.buttonsPhotos[actualIdx]));
            buttonsDiv.appendChild(btn);
          });
        } else {
          person.buttons.forEach((btnText, btnIndex) => {
            const btn = document.createElement('button');
            btn.className = 'photo-btn';
            btn.textContent = btnText;
            btn.addEventListener('click', () => openGallery(person.buttonsPhotos[btnIndex]));
            buttonsDiv.appendChild(btn);
          });
        }

        personDiv.appendChild(buttonsDiv);
        mainContent.appendChild(personDiv);
      });
    }
    else if (activeTab === 'music') {
      const musicDiv = document.createElement('div');
      musicDiv.style.height = '100%';
      musicDiv.style.display = 'flex';
      musicDiv.style.alignItems = 'center';
      musicDiv.style.justifyContent = 'center';
      musicDiv.style.flexDirection = 'column';
      musicDiv.innerHTML = `<div style="font-size:64px; color: #ccc; margin-bottom: 16px;">üéµ</div>
                            <p style="color:#888;">ÏùåÏïÖ ÎùºÏù¥Î∏åÎü¨Î¶¨</p>`;
      mainContent.appendChild(musicDiv);
    }
    else if (activeTab === 'sheet') {
      const sheetDiv = document.createElement('div');
      sheetDiv.style.height = '100%';
      sheetDiv.style.display = 'flex';
      sheetDiv.style.alignItems = 'center';
      sheetDiv.style.justifyContent = 'center';
      sheetDiv.style.flexDirection = 'column';
      sheetDiv.innerHTML = `<div style="font-size:64px; color: #ccc; margin-bottom: 16px;">üìÑ</div>
                            <p style="color:#888;">ÏïÖÎ≥¥ Î≥¥Í¥ÄÌï®</p>`;
      mainContent.appendChild(sheetDiv);
    }
    else if (activeTab === 'info') {
      const infoDiv = document.createElement('div');
      infoDiv.style.height = '100%';
      infoDiv.style.display = 'flex';
      infoDiv.style.alignItems = 'center';
      infoDiv.style.justifyContent = 'center';
      infoDiv.style.flexDirection = 'column';
      infoDiv.innerHTML = `<div style="font-size:64px; color: #ccc; margin-bottom: 16px;">‚ÑπÔ∏è</div>
                            <p style="color:#888;">Ï†ïÎ≥¥</p>`;
      mainContent.appendChild(infoDiv);
    }
  }

  function openGallery(photos) {
    selectedPhotos = photos;
    currentPhotoIndex = 0;
    updateGallery();
    document.getElementById('gallery-overlay').style.display = 'flex';
  }

  function closeGallery() {
    selectedPhotos = null;
    currentPhotoIndex = 0;
    document.getElementById('gallery-overlay').style.display = 'none';
  }

  function updateGallery() {
    if (!selectedPhotos) return;
    const imgElem = document.getElementById('gallery-img');
    imgElem.src = selectedPhotos[currentPhotoIndex];
    const counter = document.getElementById('gallery-counter');
    counter.textContent = `${currentPhotoIndex + 1} / ${selectedPhotos.length}`;
  }

  function nextPhoto() {
    if (!selectedPhotos) return;
    currentPhotoIndex = (currentPhotoIndex + 1) % selectedPhotos.length;
    updateGallery();
  }

  function prevPhoto() {
    if (!selectedPhotos) return;
    currentPhotoIndex = (currentPhotoIndex - 1 + selectedPhotos.length) % selectedPhotos.length;
    updateGallery();
  }

  Object.keys(tabButtons).forEach(key => {
    tabButtons[key].addEventListener('click', () => {
      activeTab = key;
      render();
    });
  });

  document.getElementById('gallery-close').addEventListener('click', closeGallery);
  document.getElementById('gallery-next').addEventListener('click', nextPhoto);
  document.getElementById('gallery-prev').addEventListener('click', prevPhoto);

  render();
</script>
</body>
</html>
