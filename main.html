<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<meta name="robots" content="noindex, nofollow" />
<title>MAYBE HAPPY ENDING</title>
<link href="https://cdn.jsdelivr.net/gh/sunn-us/SUIT/fonts/static/woff2/SUIT.css" rel="stylesheet">
<style>
  body, html {
    margin: 0; padding: 0; height: 100%;
    background-color: #fadbdf;
    font-family: 'SUIT', -apple-system, BlinkMacSystemFont, sans-serif; 
    overflow: hidden;
  }
  #app {
    max-width: 360px;
    margin: 0 auto;
    height: 100vh;
    display: flex;
    flex-direction: column;
    border-left: 2px solid #2D3887;
    border-right: 2px solid #2D3887;
    box-sizing: border-box;
    position: relative;
  }
  header {
    text-align: center;
    font-weight: bold;
    font-size: 1.25rem;
    color: #2D3887;
    padding: 12px 0;
    border-bottom: 2px solid #2D3887;
    background-color: #fadbdf;
    flex-shrink: 0;
    position: fixed;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 360px;
    z-index: 10;
  }
  main {
    flex-grow: 1;
    overflow-y: auto;
    background-color: #fadbdf;
    padding: 0;
    margin-top: 48px;
    margin-bottom: 56px;
  }
  nav {
    display: flex;
    border-top: 2px solid #2D3887;
    background-color: #fadbdf;
    flex-shrink: 0;
    position: fixed;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 360px;
    height: 60px;
    z-index: 10;
  }
  nav button {
    flex: 1;
    padding: 0;
    border: none;
    cursor: pointer;
    background-color: #fadbdf;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 100%;
    box-sizing: border-box;
    font-size: 1.25rem;
    color: #2D3887;
    transition: background-color 0.3s, color 0.3s;
  }
  nav button.active {
    background-color: #2D3887;
    color: #FFF2DA;
  }
  nav button:not(:last-child)::after {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    right: 0;
    width: 2px;
    background-color: #2D3887;
  }
  #tab-home-btn::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    width: 2px;
    background-color: #2D3887;
  }
  #tab-info-btn::after {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    right: 0;
    width: 2px;
    background-color: #2D3887;
  }
  .tab-home {
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 15px;
    overflow-y: auto;
  }
  .home-square-img {
    width: 100%;
    max-width: 400px;
    object-fit: cover;
    border-radius: 10px;
    margin: 0 auto;
  }
  .home-rect-img {
    width: 100%;
    max-width: 250px;
    object-fit: contain;
    margin: 0 auto;
    padding: 10px;
  }
  .home-text {
    color: #2D3887;
    font-size: 0.95rem;
    font-weight: 500;
    line-height: 1.5;
    text-align: center;
    padding: 0 0 80px;
    margin-bottom: 20px;
  }
  .person {
    max-width: 100%;
    padding: 0 12px;
    box-sizing: border-box;
  }
  .person.oliver {
    margin-top: 50px;
  }
  .person-header {
    display: flex;
    align-items: center;
    font-weight: bold;
    font-size: 1.25rem;
    color: #2D3887;
    margin-bottom: 10px;
    gap: 6px;
    justify-content: center;
  }
  .emoji { font-size: 2rem; }
  .buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    justify-content: center;
  }
  button.photo-btn {
    min-width: 70px;
    background-color: #2D3887;
    color: white;
    border: none;
    border-radius: 25px;
    padding: 6px 12px;
    font-weight: 500;
    font-size: 0.875rem;
    cursor: pointer;
    transition: transform 0.2s ease;
  }
  button.photo-btn:hover {
    transform: scale(1.05);
  }
  .group-divider {
    height: 2px;
    background-color: #2D3887;
    margin: 40px 20px 40px 20px;
  }
  #gallery-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.9);
    justify-content: center;
    align-items: center;
    z-index: 1000;
  }
  #gallery-content {
    position: relative;
    max-width: 90%;
    max-height: 80%;
  }
  #gallery-content img {
    width: 100%;
    max-height: 80vh;
    border-radius: 10px;
    user-select: none;
  }
  #gallery-close,
  #gallery-prev,
  #gallery-next {
    position: fixed;
    background: none;
    border: none;
    color: white;
    font-size: 3rem;
    cursor: pointer;
    user-select: none;
  }
  #gallery-close {
    top: 20px;
    right: 20px;
    z-index: 1010;
  }
  #gallery-prev {
    top: 50%;
    left: 20px;
    transform: translateY(-50%);
    z-index: 1010;
  }
  #gallery-next {
    top: 50%;
    right: 20px;
    transform: translateY(-50%);
    z-index: 1010;
  }
  #gallery-counter {
    text-align: center;
    color: #FFF2DA;
    margin-top: 8px;
    font-size: 1rem;
  }
  audio {
  font-family: 'SUIT', -apple-system, BlinkMacSystemFont, sans-serif !important;
  font-weight: normal !important;
}

</style>
</head>
<body>
<div id="app">
  <header>MAYBE HAPPY ENDING</header>
  <main id="main-content"></main>
  <nav>
    <button id="tab-home-btn" class="active" aria-label="í™ˆ">
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
    </button>
    <button id="tab-photos-btn" aria-label="ì‚¬ì§„">
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M21 19V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2zM7 9l2.5 3.01L12.5 9l4.5 6H5l2-3z"/></svg>
    </button>
    <button id="tab-music-btn" aria-label="ìŒì•…">
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 3v10.55A4 4 0 1 0 14 17V7h4V3h-6z"/></svg>
    </button>
    <button id="tab-sheet-btn" aria-label="ì•…ë³´">
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zM7 17l5-5-5-5v10z"/></svg>
    </button>
    <button id="tab-info-btn" aria-label="ì •ë³´">
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm1 15h-2v-6h2zm0-8h-2V7h2z"/></svg>
    </button>
  </nav>
</div>

<div id="gallery-overlay">
  <button id="gallery-close" title="ë‹«ê¸°">Ã—</button>
  <button id="gallery-prev" title="ì´ì „">â€¹</button>
  <div id="gallery-content">
    <img id="gallery-img" src="" alt="Gallery Image" draggable="false" />
    <div id="gallery-counter"></div>
  </div>
  <button id="gallery-next" title="ë‹¤ìŒ">â€º</button>
</div>

<script>
const mainContent = document.getElementById('main-content');
const galleryOverlay = document.getElementById('gallery-overlay');
const galleryImg = document.getElementById('gallery-img');
const galleryCounter = document.getElementById('gallery-counter');
const tabButtons = {
  home: document.getElementById('tab-home-btn'),
  photos: document.getElementById('tab-photos-btn'),
  music: document.getElementById('tab-music-btn'),
  sheet: document.getElementById('tab-sheet-btn'),
  info: document.getElementById('tab-info-btn'),
};
const galleryCloseBtn = document.getElementById('gallery-close');
const galleryPrevBtn = document.getElementById('gallery-prev');
const galleryNextBtn = document.getElementById('gallery-next');

const photoData = [
  { 
    name: 'Oliver',
    emojiImg: 'https://raw.githubusercontent.com/HomesiteZip/MHE2025/refs/heads/main/pictogram-01.webp',
    buttons: ['ê¹€ì¬ë²”', 'ì‹ ì„±ë¯¼', 'ì „ì„±ìš°', 'ì •íœ˜'],
    buttonsPhotos: [
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%9E%AC%EB%B2%94_%EC%98%AC%EB%A6%AC%EB%B2%841.webp',
        'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%9E%AC%EB%B2%94_%EC%98%AC%EB%A6%AC%EB%B2%842.webp',
        'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%9E%AC%EB%B2%94_%EC%98%AC%EB%A6%AC%EB%B2%843.webp'],
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%84%B1%EB%AF%BC_%EC%98%AC%EB%A6%AC%EB%B2%841.webp',
        'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%84%B1%EB%AF%BC_%EC%98%AC%EB%A6%AC%EB%B2%842.webp',
        'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%84%B1%EB%AF%BC_%EC%98%AC%EB%A6%AC%EB%B2%843.webp'],
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%84%B1%EC%9A%B0_%EC%98%AC%EB%A6%AC%EB%B2%841.webp',
        'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%84%B1%EC%9A%B0_%EC%98%AC%EB%A6%AC%EB%B2%842.webp',
        'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%84%B1%EC%9A%B0_%EC%98%AC%EB%A6%AC%EB%B2%843.webp'],
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%A0%95%ED%9C%98_%EC%98%AC%EB%A6%AC%EB%B2%841.webp',
        'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%A0%95%ED%9C%98_%EC%98%AC%EB%A6%AC%EB%B2%842.webp',
        'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%A0%95%ED%9C%98_%EC%98%AC%EB%A6%AC%EB%B2%843.webp'],
    ],
  },
  {
    name: 'Claire',
    emojiImg: 'https://raw.githubusercontent.com/HomesiteZip/MHE2025/refs/heads/main/pictogram-02.webp',
    buttons: ['ì „ë¯¸ë„', 'ìµœìˆ˜ì§„', 'ë°•ì§€ì—°', 'ë°•ì§„ì£¼', 'ë°©ë¯¼ì•„'],
    buttonsPhotos: [
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EB%AF%B8%EB%8F%84_%ED%81%B4%EB%A0%88%EC%96%B41.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EB%AF%B8%EB%8F%84_%ED%81%B4%EB%A0%88%EC%96%B42.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EB%AF%B8%EB%8F%84_%ED%81%B4%EB%A0%88%EC%96%B43.webp'],
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%88%98%EC%A7%84_%ED%81%B4%EB%A0%88%EC%96%B41.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%88%98%EC%A7%84_%ED%81%B4%EB%A0%88%EC%96%B42.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%88%98%EC%A7%84_%ED%81%B4%EB%A0%88%EC%96%B43.webp'],
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%A7%80%EC%97%B0_%ED%81%B4%EB%A0%88%EC%96%B41.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%A7%80%EC%97%B0_%ED%81%B4%EB%A0%88%EC%96%B42.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%A7%80%EC%97%B0_%ED%81%B4%EB%A0%88%EC%96%B43.webp'],
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%A7%84%EC%A3%BC_%ED%81%B4%EB%A0%88%EC%96%B41.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%A7%84%EC%A3%BC_%ED%81%B4%EB%A0%88%EC%96%B42.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%A7%84%EC%A3%BC_%ED%81%B4%EB%A0%88%EC%96%B43.webp'],
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EB%AF%BC%EC%95%84_%ED%81%B4%EB%A0%88%EC%96%B41.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EB%AF%BC%EC%95%84_%ED%81%B4%EB%A0%88%EC%96%B42.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EB%AF%BC%EC%95%84_%ED%81%B4%EB%A0%88%EC%96%B43.webp'],
    ],
  },
  {
    name: 'James',
    emojiImg: 'https://raw.githubusercontent.com/HomesiteZip/MHE2025/refs/heads/main/pictogram-03.webp',
    buttons: ['ì´ì‹œì•ˆ', 'ê³ í›ˆì •', 'ë°•ì„¸í›ˆ'],
    buttonsPhotos: [
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%8B%9C%EC%95%88_%EC%A0%9C%EC%9E%84%EC%8A%A41.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%8B%9C%EC%95%88_%EC%A0%9C%EC%9E%84%EC%8A%A42.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%8B%9C%EC%95%88_%EC%A0%9C%EC%9E%84%EC%8A%A43.webp'],
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%ED%9B%88%EC%A0%95_%EC%A0%9C%EC%9E%84%EC%8A%A41.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%ED%9B%88%EC%A0%95_%EC%A0%9C%EC%9E%84%EC%8A%A42.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%ED%9B%88%EC%A0%95_%EC%A0%9C%EC%9E%84%EC%8A%A43.webp'],
      ['https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%84%B8%ED%9B%88_%EC%A0%9C%EC%9E%84%EC%8A%A41.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%84%B8%ED%9B%88_%EC%A0%9C%EC%9E%84%EC%8A%A42.webp',
      'https://raw.githubusercontent.com/HomesiteZip/MHE2025/56ee5887654ef38164e338bfd34a6f1543f6e619/%EC%84%B8%ED%9B%88_%EC%A0%9C%EC%9E%84%EC%8A%A43.webp'],
    ],
  },
];

let activeTab = 'home';
let selectedPhotos = null;
let currentPhotoIndex = 0;
let clickDisabled = false;

function render() {
  Object.values(tabButtons).forEach(btn => btn.classList.remove('active'));
  tabButtons[activeTab].classList.add('active');

  mainContent.innerHTML = '';
  const fragment = document.createDocumentFragment();

  switch (activeTab) {
    case 'home':
      fragment.appendChild(renderHome());
      break;
    case 'photos':
      fragment.appendChild(renderPhotos());
      break;
    case 'music':
      fragment.appendChild(renderMusic());
      break;
    case 'sheet':
      fragment.appendChild(renderSheet());
      break;
    case 'info':
      fragment.appendChild(renderInfo());
      break;
  }
  mainContent.appendChild(fragment);
}

function renderHome() {
  const homeDiv = document.createElement('div');
  homeDiv.className = 'tab-home';

  const squareImg = document.createElement('img');
  squareImg.className = 'home-square-img';
  squareImg.src = 'https://raw.githubusercontent.com/HomesiteZip/MHE2025/refs/heads/main/lp.webp';
  squareImg.alt = 'Square Image';
  homeDiv.appendChild(squareImg);

  const rectImg = document.createElement('img');
  rectImg.className = 'home-rect-img';
  rectImg.src = 'https://raw.githubusercontent.com/HomesiteZip/MHE2025/refs/heads/main/logo-04.webp';
  rectImg.alt = 'Rectangle Image';
  homeDiv.appendChild(rectImg);

  const textDiv = document.createElement('div');
  textDiv.className = 'home-text';
  textDiv.innerHTML = 'ë®¤ì§€ì»¬ ì–´ì©Œë©´ í•´í”¼ì—”ë”© 10ì£¼ë…„ì„ ë§ì•„,<br>ê´€ê° ì—¬ëŸ¬ë¶„ê³¼ íŠ¹ë³„í•œ ê¸°ì–µì„ ë‚¨ê¸°ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤.<br><br>í•œêµ­ì„ ë„˜ì–´, ì„¸ê³„ê°€ ì‚¬ë‘í•˜ëŠ”<br>ì°½ì‘ ë®¤ì§€ì»¬ë¡œ ì„±ì¥í•˜ê¸°ê¹Œì§€ í•¨ê»˜í•´ì£¼ì‹  ëª¨ë“  ë¶„ë“¤ì˜<br>ì‚¬ë‘ê³¼ ì‘ì›ì— ì§„ì‹¬ìœ¼ë¡œ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.<br><br>ê·¸ ë§ˆìŒì„ ë‹´ì•„, ê³µì—°ì„ ë– ì˜¬ë¦´<br>ì‘ì€ í”ì ì„ ë‚¨ê¹ë‹ˆë‹¤.<br><br><strong>â€œë¬¸ì„ ë‘ë“œë ¤ ì¤˜ì„œ ê³ ë§ˆì› ì–´.â€<br>â€œë¬¸ì„ ì—´ì–´ ì¤˜ì„œ ê³ ë§ˆì› ì–´.â€<br>â€œì²œë§Œì—.â€</strong>';
  homeDiv.appendChild(textDiv);

  return homeDiv;
}

function renderPerson(person, isLast) {
  const div = document.createElement('div');
  div.className = `person ${person.name.toLowerCase()}`;
  if (person.name === 'Oliver') div.style.marginTop = '50px';

const header = document.createElement('div');
header.className = 'person-header center';

const img = document.createElement('img');
img.src = person.emojiImg;  
img.alt = person.name + ' ì´ëª¨ì§€';
img.style.width = '36px';
img.style.objectFit = 'cover';
img.style.marginRight = '2px';

header.appendChild(img);

const nameSpan = document.createElement('span');
nameSpan.textContent = person.name;

header.appendChild(nameSpan);
div.appendChild(header);

  const buttonsDiv = document.createElement('div');
  buttonsDiv.className = 'buttons center';

  if (person.name === 'Claire') {
    person.buttons.slice(0, 3).forEach((btnText, idx) => {
      buttonsDiv.appendChild(createPhotoButton(btnText, person.buttonsPhotos[idx]));
    });
    const brNode = document.createElement('div');
    brNode.style.flexBasis = '100%';
    buttonsDiv.appendChild(brNode);
    person.buttons.slice(3).forEach((btnText, idx) => {
      buttonsDiv.appendChild(createPhotoButton(btnText, person.buttonsPhotos[3 + idx]));
    });
  } else {
    person.buttons.forEach((btnText, idx) => {
      buttonsDiv.appendChild(createPhotoButton(btnText, person.buttonsPhotos[idx]));
    });
  }

  div.appendChild(buttonsDiv);

  if (!isLast) {
    const divider = document.createElement('div');
    divider.className = 'group-divider';
    div.appendChild(divider);
  }
  return div;
}

function renderPhotos() {
  const fragment = document.createDocumentFragment();
  photoData.forEach((person, idx) => {
    const isLast = idx === photoData.length - 1;
    fragment.appendChild(renderPerson(person, isLast));
  });
  return fragment;
}

function createAudioPlayerWithDownload(src, label) {
  const container = document.createElement('div');
  container.style.display = 'flex';
  container.style.alignItems = 'center';
  container.style.width = '100%';
  container.style.maxWidth = '320px';
  container.style.marginBottom = '12px';
  container.style.fontFamily = "'SUIT', -apple-system, BlinkMacSystemFont, sans-serif";

  const audio = document.createElement('audio');
  audio.controls = true;
  audio.src = src;
  audio.style.flexGrow = '1';
  audio.style.fontFamily = "'SUIT', -apple-system, BlinkMacSystemFont, sans-serif";

  const downloadLink = document.createElement('a');
  downloadLink.href = src;
  downloadLink.download = '';
  downloadLink.title = label || 'ë‹¤ìš´ë¡œë“œ';
  downloadLink.style.display = 'inline-flex';
  downloadLink.style.alignItems = 'center';
  downloadLink.style.cursor = 'pointer';
  downloadLink.style.textDecoration = 'none';
  downloadLink.style.fontWeight = 'bold';
  downloadLink.style.fontFamily = "'SUIT', -apple-system, BlinkMacSystemFont, sans-serif";

  const iconImg = document.createElement('img');
  iconImg.src = 'https://img.icons8.com/?size=100&id=xfmO9wVKAyAR&format=png&color=2D3887';
  iconImg.alt = 'ë‹¤ìš´ë¡œë“œ ì•„ì´ì½˜';
  iconImg.style.width = '22px';
  iconImg.style.height = '22px';

  container.appendChild(audio);
  container.appendChild(downloadLink);

  return container;
}

function renderMusic() {
  const musicDiv = document.createElement('div');
  musicDiv.style.display = 'flex';
  musicDiv.style.flexDirection = 'column';
  musicDiv.style.alignItems = 'center';
  musicDiv.style.gap = '24px';
  musicDiv.style.padding = '20px';

  const icon = document.createElement('div');
  icon.style.fontSize = '64px';
  icon.style.color = '#ccc';
  icon.style.marginBottom = '8px';
  icon.textContent = 'ğŸ¹';
  musicDiv.appendChild(icon);

  const musicList = [
    { name: 'ì´ì‹œì•ˆ ì œì„ìŠ¤', src: 'https://raw.githubusercontent.com/HomesiteZip/MHE2025/main/sample1.mp3' },
    { name: 'ê³ í›ˆì • ì œì„ìŠ¤', src: 'https://raw.githubusercontent.com/HomesiteZip/MHE2025/main/sample1.mp3' },
    { name: 'ë°•ì„¸í›ˆ ì œì„ìŠ¤', src: 'https://raw.githubusercontent.com/HomesiteZip/MHE2025/main/sample1.mp3' },
  ];

  function createPlayGroup(name, src) {
    const group = document.createElement('div');
    group.style.width = '100%';
    group.style.maxWidth = '360px';
    group.style.display = 'flex';
    group.style.flexDirection = 'column';
    group.style.gap = '8px';

    const titleP = document.createElement('p');
    titleP.textContent = `${name}ì˜ í”¼ì•„ë…¸ ì—°ì£¼`;
    titleP.style.fontWeight = 'bold';
    titleP.style.fontSize = '1.1rem';
    titleP.style.color = '#2D3887';
    titleP.style.margin = '0';
    titleP.style.textAlign = 'center';

    const player = createAudioPlayerWithDownload(src, 'ë‹¤ìš´ë¡œë“œ');

    group.appendChild(titleP);
    group.appendChild(player);

    return group;
  }

  musicList.forEach(music => {
    musicDiv.appendChild(createPlayGroup(music.name, music.src));
  });

  return musicDiv;
}

function renderSheet() {
  const sheetDiv = document.createElement('div');
  sheetDiv.style.height = '100%';
  sheetDiv.style.display = 'flex';
  sheetDiv.style.alignItems = 'center';
  sheetDiv.style.justifyContent = 'center';
  sheetDiv.style.flexDirection = 'column';
  sheetDiv.innerHTML = `<div style="font-size:64px; color:#ccc; margin-bottom:16px;">ğŸµ</div><p style="color:#888;">ìš”ìƒˆ ë‚˜ë¥¼ í–‰ë³µí•˜ê²Œ í•˜ëŠ”<br>í”Œë ˆì´ë¦¬ìŠ¤íŠ¸</p>`;
  return sheetDiv;
}

function renderInfo() {
  const container = document.createElement('div');
  container.style.display = 'flex';
  container.style.flexDirection = 'column';
  container.style.alignItems = 'center';
  container.style.padding = '30px';
  container.style.gap = '20px';

  const logoImg = document.createElement('img');
  logoImg.src = 'https://raw.githubusercontent.com/HomesiteZip/MHE2025/refs/heads/main/logo-03.webp';
  logoImg.alt = '10ì£¼ë…„ ë¡œê³ ';
  logoImg.style.width = '150px'; 
  logoImg.style.height = 'auto';
  logoImg.style.marginBottom = '8px'; 

  container.appendChild(logoImg);
  
  // ê³µí†µ ë²„íŠ¼ ìŠ¤íƒ€ì¼
  const buttonStyle = `
    min-width: 240px;
    padding: 14px 24px;
    border-radius: 30px;
    border: none;
    background-color: #2D3887;
    color: white;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    transition: background-color 0.3s;
  `;

  const infoBtn = document.createElement('a');
  infoBtn.href = 'https://www.ticketlink.co.kr/product/58765';
  infoBtn.textContent = 'ê³µì—° ì •ë³´';
  infoBtn.style.cssText = buttonStyle;
  infoBtn.target = '_blank';
  infoBtn.rel = 'noopener noreferrer';
  infoBtn.addEventListener('mouseenter', () => infoBtn.style.backgroundColor = '#5059c9');
  infoBtn.addEventListener('mouseleave', () => infoBtn.style.backgroundColor = '#2D3887');

  const mapBtn = document.createElement('a');
  mapBtn.href = 'https://map.naver.com/p/directions/-/14137708.3352733,4519097.9346787,ë‘ì‚°ì•„íŠ¸ì„¼í„° ì—°ê°•í™€,13412903,PLACE_POI/-/transit?c=15.00,0,0,0,dh';
  mapBtn.textContent = 'ì˜¤ì‹œëŠ” ê¸¸';
  mapBtn.style.cssText = buttonStyle;
  mapBtn.target = '_blank';
  mapBtn.rel = 'noopener noreferrer';
  mapBtn.addEventListener('mouseenter', () => mapBtn.style.backgroundColor = '#5059c9');
  mapBtn.addEventListener('mouseleave', () => mapBtn.style.backgroundColor = '#2D3887');

  container.appendChild(infoBtn);
  container.appendChild(mapBtn);

  const infoWrapper = document.createElement('div');
  infoWrapper.style.marginTop = '10px';
  infoWrapper.style.textAlign = 'center';

  const title = document.createElement('div');
  title.textContent = 'ë‘ì‚°ì•„íŠ¸ì„¼í„° ì—°ê°•í™€';
  title.style.fontSize = '1.5rem';
  title.style.fontWeight = 'bold';
  title.style.marginBottom = '14px';
  infoWrapper.appendChild(title);

  const addrTitle = document.createElement('div');
  addrTitle.textContent = 'ì£¼ì†Œ';
  addrTitle.style.fontSize = '0.95rem';
  addrTitle.style.fontWeight = 'bold';
  addrTitle.style.marginBottom = '2px';
  infoWrapper.appendChild(addrTitle);

  const addr = document.createElement('div');
  addr.innerHTML = '03129 ì„œìš¸íŠ¹ë³„ì‹œ ì¢…ë¡œêµ¬ ì¢…ë¡œ33ê¸¸ 15';
  addr.style.fontSize = '0.95rem';
  addr.style.marginBottom = '18px';
  infoWrapper.appendChild(addr);

  const wayTitle = document.createElement('div');
  wayTitle.textContent = 'ì˜¤ì‹œëŠ” ê¸¸';
  wayTitle.style.fontSize = '0.95rem';
  wayTitle.style.fontWeight = 'bold';
  wayTitle.style.marginBottom = '2px';
  infoWrapper.appendChild(wayTitle);

  const way = document.createElement('div');
  way.innerHTML = 'ì§€í•˜ì²  1í˜¸ì„  ì¢…ë¡œ 5ê°€ì—­ 1ë²ˆ ì¶œêµ¬,<br>ì˜¤ê°€ì•½êµ­ ê³¨ëª©ìœ¼ë¡œ 30m';
  way.style.fontSize = '0.95rem';
  way.style.marginBottom = '18px';
  infoWrapper.appendChild(way);
  
  // ì£¼ì°¨ ì•ˆë‚´
  const parkTitle = document.createElement('div');
  parkTitle.textContent = 'ì£¼ì°¨ ì•ˆë‚´';
  parkTitle.style.fontSize = '0.95rem';
  parkTitle.style.fontWeight = 'bold';
  parkTitle.style.marginBottom = '2px';
  infoWrapper.appendChild(parkTitle);

  const park = document.createElement('div');
  park.innerHTML = 'ë‹¹ì¼ ê´€ëŒê³ ê°ì— í•œí•´ 4ì‹œê°„ 5,000ì›,<br>ì£¼ì°¨ê¶Œ ì œê³µ,ì´ˆê³¼ ì‹œ 10ë¶„ë‹¹ 1,000ì›';
  park.style.fontSize = '0.95rem';
  park.style.marginBottom = '8px';
  infoWrapper.appendChild(park);

  const note = document.createElement('div');
  note.innerHTML = 'â€» ì£¼ì°¨ì¥ì´ í˜‘ì†Œí•˜ê³  ê³µì—°ì¥ ì£¼ë³€ êµí†µì´ í˜¼ì¡í•˜ì˜¤ë‹ˆ<br>ê°€ê¸‰ì  ëŒ€ì¤‘êµí†µì„ ì´ìš©í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.';
  note.style.fontSize = '0.85rem';
  note.style.fontWeight = 'bold';
  note.style.color = '#888';
  note.style.lineHeight = '1.4';
  note.style.marginTop = '8px';
  note.style.marginBottom = '10px';
  infoWrapper.appendChild(note);

    // --- SNS ì•„ì´ì½˜ ì˜ì—­ ì¶”ê°€ ---
  const snsContainer = document.createElement('div');
  snsContainer.style.display = 'flex';
  snsContainer.style.gap = '24px';
  snsContainer.style.marginTop = '24px';

  const instaLink = document.createElement('a');
instaLink.href = 'https://www.instagram.com/nhnlink.musical';
instaLink.target = '_blank';
instaLink.rel = 'noopener noreferrer';
instaLink.title = 'Instagram';

const instaImg = document.createElement('img');
instaImg.src = 'https://img.icons8.com/?size=100&id=85140&format=png&color=2D3887';  
instaImg.alt = 'Instagram';
instaImg.style.width = '32px';
instaImg.style.height = '32px';

instaLink.appendChild(instaImg);
snsContainer.appendChild(instaLink);

const xLink = document.createElement('a');
xLink.href = 'https://x.com/nhnlink_musical';
xLink.target = '_blank';
xLink.rel = 'noopener noreferrer';
xLink.title = 'X (Twitter)';

const xImg = document.createElement('img');
xImg.src = 'https://img.icons8.com/?size=100&id=phOKFKYpe00C&format=png&color=2D3887';
xImg.alt = 'X (Twitter)';
xImg.style.width = '32px';
xImg.style.height = '32px';

xLink.appendChild(xImg);
snsContainer.appendChild(xLink);

  container.appendChild(infoWrapper);
  container.appendChild(snsContainer);
  
  return container;
}

function createPhotoButton(text, photos) {
  const btn = document.createElement('button');
  btn.className = 'photo-btn';
  btn.textContent = text;
  btn.addEventListener('click', () => openGallery(photos));
  return btn;
}

// ê°¤ëŸ¬ë¦¬ ê´€ë ¨
function openGallery(photos) {
  selectedPhotos = photos;
  currentPhotoIndex = 0;
  updateGallery();
  galleryOverlay.style.display = 'flex';
}
function closeGallery() {
  selectedPhotos = null;
  currentPhotoIndex = 0;
  galleryOverlay.style.display = 'none';
}
function updateGallery() {
  if (!selectedPhotos) return;
  galleryImg.src = selectedPhotos[currentPhotoIndex];
  galleryCounter.textContent = `${currentPhotoIndex + 1} / ${selectedPhotos.length}`;
}
function nextPhoto() {
  if (clickDisabled || !selectedPhotos) return;
  clickDisabled = true;
  currentPhotoIndex = (currentPhotoIndex + 1) % selectedPhotos.length;
  updateGallery();
  setTimeout(() => { clickDisabled = false; }, 300);
}
function prevPhoto() {
  if (clickDisabled || !selectedPhotos) return;
  clickDisabled = true;
  currentPhotoIndex = (currentPhotoIndex - 1 + selectedPhotos.length) % selectedPhotos.length;
  updateGallery();
  setTimeout(() => { clickDisabled = false; }, 300);
}

Object.values(tabButtons).forEach(button => {
  button.addEventListener('click', () => {
    const key = Object.keys(tabButtons).find(k => tabButtons[k] === button);
    if (key) {
      activeTab = key;
      render();
    }
  });
});
galleryCloseBtn.addEventListener('click', closeGallery);
galleryPrevBtn.addEventListener('click', prevPhoto);
galleryNextBtn.addEventListener('click', nextPhoto);

render();
</script>
</body>
</html>
